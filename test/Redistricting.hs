{-# LANGUAGE OverloadedStrings #-}
{-# OPTIONS_GHC -Wno-orphans #-}

module Redistricting where

import Test.Tasty
import Test.Tasty.HUnit

import Psephology.Redistricting.Utilitarian

testRedistricting :: TestTree
testRedistricting =
    testGroup
        "Redistricting"
        [ testCase "(utilitarian)" $
            noNonDissolved districts1 @?= noDistricts
        , testCase "(export journal1)" $
            do
                writeFile "test/redistricting/journal1.csv" $
                    unlines $
                        map (concatMap (++ ",")) csv1
                True @?= True
        , testCase "(export journal2)" $
            do
                writeFile "test/redistricting/journal2.csv" $
                    unlines $
                        map (concatMap (++ ",")) csv2
                True @?= True
        , testCase "(export districts)" $
            writeFile "test/redistricting/test1.csv" $
                districtsCSV testPrecincts districts1
        , testCase "(Gwinnett csv)" $
            writeFile "test/redistricting/gwinnett.csv" $
                districtsCSV gwinnettPrecincts districts2
        ]
    where
        testPrecincts :: [Precinct]
        testPrecincts =
            [ Precinct (show $ show (x, y)) 1 [x, y]
            | x <- [0.5, 1.5 .. 9.5]
            , y <- [0.5, 1.5 .. 9.5]
            ]

        gwinnettPrecincts :: [Precinct]
        gwinnettPrecincts =
            [ Precinct "BAYCREEK A" 3585 [33.889818, -83.9878974, 0.512562814070352, 0.28894472361809, 0.00610193826274228, 0.0681981335247667, 0.00107681263460158, 0.0107681263460158, 0.0376884422110553, 0.0746590093323762]
            , Precinct "BAYCREEK B" 8447 [33.8160196, -83.958858, 0.27346673173906, 0.562876199772247, 0.00227753375630389, 0.0185456320156174, 0.000976085895558809, 0.00943549699040182, 0.0291198958841711, 0.103302423946641]
            , Precinct "BAYCREEK C" 9302 [33.9050831, -83.8995765, 0.345173860911271, 0.453836930455636, 0.000449640287769784, 0.0494604316546763, 0, 0.00689448441247002, 0.0331235011990408, 0.111061151079137]
            , Precinct "BAYCREEK D" 6326 [33.9103313, -83.9496452, 0.472491909385113, 0.327508090614887, 0.00194174757281553, 0.0519956850053937, 0.000431499460625674, 0.0075512405609493, 0.0343042071197411, 0.103775620280475]
            , Precinct "BAYCREEK E" 5183 [33.8451058, -83.9412628, 0.365897901010625, 0.337393107022545, 0.0020730759264058, 0.0308370044052863, 0.000777403472402177, 0.00855143819642394, 0.0393884426017103, 0.215081627364602]
            , Precinct "BAYCREEK F" 6933 [33.8760407, -83.9616113, 0.319070904645477, 0.485941320293399, 0.000611246943765281, 0.0672371638141809, 0, 0.00855745721271394, 0.036878565607172, 0.0817033414832926]
            , Precinct "BAYCREEK G" 9465 [33.8628516, -83.931562, 0.289134152028603, 0.510648220115032, 0.00108813928182807, 0.0530079278719105, 0.000310896937665164, 0.00870511425462459, 0.0329550753925074, 0.10415047411783]
            , Precinct "BAYCREEK H" 9916 [33.8765328, -83.9050861, 0.44678445229682, 0.401413427561837, 0.00339222614840989, 0.0315194346289753, 0, 0.00607773851590106, 0.0293992932862191, 0.0814134275618375]
            , Precinct "BAYCREEK I" 8833 [33.9260211, -83.9444786, 0.324905183312263, 0.393331226295828, 0.00110619469026549, 0.0611567635903919, 0.000790139064475348, 0.00458280657395702, 0.0355562579013906, 0.178571428571429]
            , Precinct "BAYCREEK J" 6205 [33.8435416, -83.96937, 0.299258936355711, 0.527680906713165, 0.00152571926765475, 0.0215780296425458, 0.00021795989537925, 0.00915431560592851, 0.032258064516129, 0.108326068003487]
            , Precinct "BAYCREEK K" 5457 [33.9011826, -83.9718508, 0.43236074270557, 0.353749698577285, 0.000723414516517965, 0.0906679527369183, 0.000723414516517965, 0.0026525198938992, 0.0301422715215819, 0.0889799855317097]
            , Precinct "BERKSHIRE A" 5703 [33.8932271, -84.1496682, 0.214460185637518, 0.172691744015633, 0.00244259892525647, 0.192965315095261, 0.00122129946262824, 0.00635075720566683, 0.0229604298974108, 0.386907669760625]
            , Precinct "BERKSHIRE B" 11845 [33.8776441, -84.1775168, 0.154513294533835, 0.280954011183385, 0.00205409106470387, 0.280611662672601, 0.00114116170261326, 0.00730343489672487, 0.0252196736277531, 0.248202670318384]
            , Precinct "BERKSHIRE D" 4101 [33.868216, -84.1028126, 0.474871134020619, 0.163337628865979, 0.000966494845360825, 0.223904639175258, 0, 0.00322164948453608, 0.0270618556701031, 0.106636597938144]
            , Precinct "BERKSHIRE E" 2722 [33.877295, -84.1416573, 0.506335053965275, 0.129516658845612, 0.001407789770061, 0.235570154856875, 0, 0.00375410605349601, 0.0239324260910371, 0.0994838104176443]
            , Precinct "BERKSHIRE F" 4403 [33.9039945, -84.108399, 0.208760484622554, 0.165890027958993, 0.00403852127990059, 0.296365330848089, 0.000310655483069276, 0.00310655483069276, 0.0201926063995029, 0.301335818577198]
            , Precinct "BERKSHIRE G" 3325 [33.8466825, -84.1321556, 0.542595541401274, 0.140127388535032, 0.00199044585987261, 0.192277070063694, 0, 0.00756369426751592, 0.0326433121019108, 0.0828025477707006]
            , Precinct "BERKSHIRE H" 4466 [33.8941438, -84.1716221, 0.173965936739659, 0.152676399026764, 0.000608272506082725, 0.207116788321168, 0, 0.00182481751824818, 0.0179440389294404, 0.445863746958637]
            , Precinct "BERKSHIRE J" 3743 [33.8678246, -84.1169868, 0.545551601423488, 0.154804270462633, 0.000711743772241993, 0.17153024911032, 0.00142348754448399, 0.00427046263345196, 0.0341637010676157, 0.0875444839857651]
            , Precinct "BERKSHIRE L" 6986 [33.9142183, -84.120079, 0.153937947494033, 0.285401750198886, 0.000596658711217184, 0.160501193317422, 0.000198886237072395, 0.00517104216388226, 0.0202863961813842, 0.373906125696102]
            , Precinct "BERKSHIRE M" 2760 [33.8892216, -84.117783, 0.429543245869776, 0.134596695821186, 0.00194363459669582, 0.244897959183673, 0, 0.000971817298347911, 0.0306122448979592, 0.157434402332362]
            , Precinct "BERKSHIRE N" 4138 [33.857221, -84.1465624, 0.598110236220472, 0.160314960629921, 0.00188976377952756, 0.134803149606299, 0, 0.00251968503937008, 0.0236220472440945, 0.078740157480315]
            , Precinct "BERKSHIRE O" 3698 [33.885763, -84.0920034, 0.534722222222222, 0.167708333333333, 0.00138888888888889, 0.153819444444444, 0, 0.00520833333333333, 0.0357638888888889, 0.101388888888889]
            , Precinct "BERKSHIRE P" 3621 [33.9004652, -84.134341, 0.199147617202635, 0.171638899651298, 0.00154978690430066, 0.10577295621852, 0, 0.00426191398682681, 0.0201472297559086, 0.497481596280511]
            , Precinct "BERKSHIRE Q" 2741 [33.871126, -84.1537931, 0.472682926829268, 0.129756097560976, 0.00146341463414634, 0.177073170731707, 0.000975609756097561, 0.00292682926829268, 0.0253658536585366, 0.189756097560976]
            , Precinct "CATES A" 3430 [33.8647111, -84.0053461, 0.54646427249167, 0.197704553868937, 0.000740466493891151, 0.0533135875601629, 0.00111069974083673, 0.00666419844502036, 0.0362828582006664, 0.157719363198815]
            , Precinct "CATES B" 2122 [33.8914019, -84.0684115, 0.664437689969605, 0.0936170212765957, 0.00303951367781155, 0.0711246200607903, 0, 0.00425531914893617, 0.035258358662614, 0.128267477203647]
            , Precinct "CATES C" 4292 [33.8368834, -84.0009083, 0.329683698296837, 0.480535279805353, 0.0024330900243309, 0.0352798053527981, 0, 0.00638686131386861, 0.0368004866180049, 0.108880778588808]
            , Precinct "CATES D" 5770 [33.8618825, -84.0511836, 0.40053372149442, 0.250363901018923, 0.000727802037845706, 0.209121785541, 0.000242600679281902, 0.00315380883066473, 0.0334788937409025, 0.102377486656963]
            , Precinct "CATES E" 4232 [33.8616479, -84.0634701, 0.523872679045093, 0.177387267904509, 0.000994694960212202, 0.168435013262599, 0.000331564986737401, 0.00729442970822281, 0.0414456233421751, 0.0802387267904509]
            , Precinct "CATES F" 2505 [33.8628461, -84.0279102, 0.596647459402829, 0.190151911995809, 0.000523834468308015, 0.105814562598219, 0, 0.00733368255631221, 0.0230487166055526, 0.0764798323729701]
            , Precinct "CATES G" 4012 [33.8808455, -84.0224375, 0.537435897435897, 0.16991452991453, 0, 0.204444444444444, 0, 0.00888888888888889, 0.0365811965811966, 0.0427350427350427]
            , Precinct "CATES H" 6264 [33.8432275, -84.024743, 0.260734838424081, 0.51792828685259, 0.00265604249667995, 0.0378486055776892, 0, 0.00973882248782647, 0.0387339530765826, 0.132359451084551]
            , Precinct "CATES I" 5403 [33.8837881, -84.0451492, 0.436623310380005, 0.218311655190003, 0.000255036980362153, 0.217036470288192, 0, 0.00841622035195103, 0.0293292527416475, 0.0900280540678398]
            , Precinct "CATES J" 5210 [33.852748, -84.0804605, 0.372947615324472, 0.318738597862914, 0.00156372165754496, 0.17878550951264, 0.000521240552514986, 0.00886108939275476, 0.0302319520458692, 0.0883502736512901]
            , Precinct "CATES K" 3882 [33.9043004, -84.0529517, 0.511775043936731, 0.184534270650264, 0.00105448154657294, 0.112478031634446, 0, 0.00843585237258348, 0.0333919156414763, 0.148330404217926]
            , Precinct "CATES L" 5708 [33.8563568, -83.9908172, 0.387666208161394, 0.393856029344337, 0.00206327372764787, 0.0566254011921137, 0.000229252636405319, 0.00802384227418615, 0.0307198532783127, 0.120816139385603]
            , Precinct "CATES M" 4882 [33.9006071, -84.0381449, 0.601657458563536, 0.14585635359116, 0.00386740331491713, 0.123480662983425, 0, 0.00552486187845304, 0.0287292817679558, 0.0908839779005525]
            , Precinct "CATES N" 3368 [33.8939635, -84.0047983, 0.595579682047305, 0.176812718107794, 0.0019387359441644, 0.0810391624660721, 0, 0.00581620783249321, 0.0302442807289647, 0.108569212873207]
            , Precinct "CATES O" 2140 [33.8841421, -84.0683564, 0.431498079385403, 0.198463508322663, 0.00256081946222791, 0.222791293213828, 0.000640204865556978, 0.0121638924455826, 0.0249679897567221, 0.106914212548015]
            , Precinct "DACULA" 7312 [33.9876439, -83.9105131, 0.383257403189066, 0.334472285497342, 0.0013287775246773, 0.0516324981017464, 0, 0.00873196659073652, 0.0263857251328778, 0.194191343963554]
            , Precinct "DULUTH A" 7637 [34.0213628, -84.126245, 0.399630748573347, 0.15995300436388, 0.000839207787848271, 0.308996307485733, 0, 0.00369251426653239, 0.0323934206109433, 0.0944947969117153]
            , Precinct "DULUTH B" 5515 [33.9769392, -84.1271353, 0.365826702033599, 0.134394341290893, 0.000442086648983201, 0.325154730327144, 0.0002210433244916, 0.00464190981432361, 0.0229885057471264, 0.146330680813439]
            , Precinct "DULUTH C" 3671 [34.0064702, -84.162836, 0.43859649122807, 0.175789473684211, 0.00175438596491228, 0.112631578947368, 0.00175438596491228, 0.0056140350877193, 0.0526315789473684, 0.211228070175439]
            , Precinct "DULUTH D" 10275 [33.9783085, -84.1499937, 0.278702783300199, 0.15991550695825, 0.00198807157057654, 0.244657057654076, 0.000124254473161034, 0.00546719681908549, 0.022117296222664, 0.287027833001988]
            , Precinct "DULUTH E" 8147 [33.9933807, -84.1595608, 0.309401709401709, 0.320901320901321, 0.00186480186480186, 0.193473193473193, 0.000310800310800311, 0.00512820512820513, 0.0323232323232323, 0.136596736596737]
            , Precinct "DULUTH F" 12394 [33.9738655, -84.0966092, 0.169357358608478, 0.319445891053015, 0.000833246536819081, 0.270909280283304, 0.000104155817102385, 0.0056244141235288, 0.0256223310071868, 0.208103322570566]
            , Precinct "DULUTH G" 4815 [34.010063, -84.1221283, 0.412707182320442, 0.11878453038674, 0.00248618784530387, 0.349447513812155, 0, 0.00441988950276243, 0.0232044198895028, 0.0889502762430939]
            , Precinct "DULUTH H" 4473 [34.020171, -84.162296, 0.401941193262917, 0.142163859548958, 0.00114187838995147, 0.289466171852698, 0.000570939194975735, 0.00628033114473309, 0.0274050813588353, 0.131030545246931]
            , Precinct "DULUTH I" 7004 [34.0021646, -84.1059048, 0.298860965467366, 0.101970710540589, 0.00126559392514916, 0.534080636412945, 0, 0.00451997830410414, 0.0238654854456699, 0.0354366299041765]
            , Precinct "DULUTH K" 6783 [33.9546932, -84.1457623, 0.12700296735905, 0.310385756676558, 0.00039564787339268, 0.197626112759644, 0.00158259149357072, 0.00731948565776459, 0.0221562809099901, 0.33353115727003]
            , Precinct "DUNCANS A" 6540 [34.0650294, -83.911913, 0.65018389865141, 0.146710257458112, 0.00204331834899877, 0.0915406620351451, 0, 0.00286064568859828, 0.0308541070698815, 0.0758071107478545]
            , Precinct "DUNCANS B" 7903 [34.0694427, -83.8660054, 0.650762331838565, 0.148878923766816, 0.00233183856502242, 0.0721076233183856, 0.000358744394618834, 0.00430493273542601, 0.0321076233183857, 0.0891479820627803]
            , Precinct "DUNCANS C" 4075 [34.0566395, -83.9005596, 0.710260869565217, 0.107826086956522, 0, 0.0692173913043478, 0, 0.00765217391304348, 0.0316521739130435, 0.0733913043478261]
            , Precinct "DUNCANS D" 10195 [34.0971911, -83.8625174, 0.633934626339346, 0.150956191509562, 0.0010850400108504, 0.0796148107961481, 0.0005425200054252, 0.0042045300420453, 0.0328224603282246, 0.0968398209683982]
            , Precinct "GARNERS A" 4673 [33.8451512, -84.0995503, 0.600279329608939, 0.145251396648045, 0.00223463687150838, 0.122625698324022, 0, 0.00698324022346369, 0.0324022346368715, 0.0902234636871508]
            , Precinct "GARNERS B" 4391 [33.8181787, -84.0877152, 0.320464441219158, 0.445573294629898, 0.002322206095791, 0.103918722786647, 0, 0.00377358490566038, 0.0284470246734398, 0.0955007256894049]
            , Precinct "GARNERS C" 3095 [33.8288338, -84.1115658, 0.397212543554007, 0.27918118466899, 0.00696864111498258, 0.162020905923345, 0, 0.00653310104529617, 0.0387630662020906, 0.109320557491289]
            , Precinct "GARNERS D" 5081 [33.8056783, -84.0938775, 0.269807844169518, 0.498552250592261, 0.00315872598052119, 0.0286917609897341, 0, 0.00473808897078178, 0.0355356672808634, 0.15951566201632]
            , Precinct "GARNERS F" 2640 [33.8358385, -84.1212987, 0.498463114754098, 0.167520491803279, 0.00307377049180328, 0.182889344262295, 0.000512295081967213, 0.00870901639344262, 0.0363729508196721, 0.102459016393443]
            , Precinct "GOODWINS A" 5788 [33.9879019, -84.0352897, 0.36216580543698, 0.196809705684116, 0.00292069197933049, 0.167153448663222, 0.000674005841383959, 0.00741406425522355, 0.0235902044484386, 0.239272073691305]
            , Precinct "GOODWINS B" 5375 [34.0230891, -84.0060567, 0.523407335907336, 0.140202702702703, 0, 0.173262548262548, 0.000723938223938224, 0.00361969111969112, 0.0311293436293436, 0.12765444015444]
            , Precinct "GOODWINS C" 9401 [33.9812482, -84.0593576, 0.275871610403985, 0.261206419479801, 0.003043718871057, 0.212921970116215, 0.000830105146651909, 0.00968456004427228, 0.0261483121195351, 0.210293303818484]
            , Precinct "GOODWINS D" 6328 [34.0021421, -84.0196182, 0.416238437821172, 0.166495375128469, 0.00123329907502569, 0.173484069886948, 0.00102774922918808, 0.00534429599177801, 0.0232271325796506, 0.21294964028777]
            , Precinct "GOODWINS E" 7674 [34.0030653, -84.0574848, 0.374793251736685, 0.167714191200794, 0.000992391663910023, 0.277373470062851, 0.000992391663910023, 0.00611974859411181, 0.0319219318557724, 0.140092623221965]
            , Precinct "GOODWINS F" 4618 [34.0287169, -84.0302508, 0.377253814147018, 0.18502080443828, 0.00249653259361997, 0.22995839112344, 0, 0.00610263522884882, 0.0413314840499307, 0.157836338418863]
            , Precinct "GOODWINS G" 4217 [33.9740572, -84.0280096, 0.262691131498471, 0.319877675840979, 0.00214067278287462, 0.124464831804281, 0.00122324159021407, 0.00764525993883792, 0.0412844036697248, 0.240672782874618]
            , Precinct "GOODWINS H" 4230 [34.0230791, -84.0470859, 0.410675039246468, 0.175510204081633, 0.00125588697017268, 0.189324960753532, 0, 0.0021978021978022, 0.0266875981161695, 0.194348508634223]
            , Precinct "GOODWINS I" 3169 [33.9816617, -84.0502237, 0.450715421303657, 0.180445151033386, 0.000397456279809221, 0.245627980922099, 0, 0.00119236883942766, 0.027027027027027, 0.0945945945945946]
            , Precinct "HARBINS A" 11112 [33.938403, -83.8714539, 0.427909967845659, 0.358456591639871, 0.00231511254019293, 0.0389710610932476, 0.000385852090032154, 0.00694533762057878, 0.0295819935691318, 0.135434083601286]
            , Precinct "HARBINS B" 7369 [33.9794766, -83.8644208, 0.537932316846411, 0.2296392711045, 0.00111565637783563, 0.046671625139457, 0, 0.00613611007809595, 0.0319821494979546, 0.146522870955746]
            , Precinct "HARBINS C" 4204 [33.9186083, -83.835954, 0.547048903878584, 0.289376053962901, 0.00168634064080944, 0.027318718381113, 0, 0.00505902192242833, 0.027318718381113, 0.102192242833052]
            , Precinct "HOG MOUNTAIN A" 8042 [34.045449, -84.0163276, 0.392771469694547, 0.250119942427635, 0.0011194626579242, 0.128738205661283, 0.000319846473692628, 0.00639692947385255, 0.027027027027027, 0.19350711658404]
            , Precinct "HOG MOUNTAIN B" 6314 [34.0095734, -83.945463, 0.524507750314202, 0.208630079597822, 0.00146627565982405, 0.110180142438207, 0.000628403854210306, 0.00670297444490993, 0.0289065772936741, 0.118977796397151]
            , Precinct "HOG MOUNTAIN C" 6691 [34.0501127, -83.962683, 0.490172955974843, 0.159001572327044, 0.000196540880503145, 0.118514150943396, 0, 0.00314465408805031, 0.0273191823899371, 0.201650943396226]
            , Precinct "HOG MOUNTAIN D" 4737 [34.0265973, -83.9742231, 0.494202898550725, 0.166086956521739, 0.000579710144927536, 0.117101449275362, 0.000289855072463768, 0.0063768115942029, 0.0350724637681159, 0.180289855072464]
            , Precinct "LAWRENCEVILLE A" 6050 [33.9448262, -83.9815648, 0.383011754269239, 0.248170326014637, 0.000665335994677312, 0.0625415834996673, 0, 0.00709691727655799, 0.029940119760479, 0.268573963184742]
            , Precinct "LAWRENCEVILLE B" 7989 [33.9140864, -83.9929366, 0.284739982949702, 0.361466325660699, 0.00289855072463768, 0.142881500426257, 0.000170502983802217, 0.00630861040068201, 0.0281329923273657, 0.173401534526854]
            , Precinct "LAWRENCEVILLE C" 6172 [33.9933122, -83.9696585, 0.451246261216351, 0.285742771684945, 0.000997008973080758, 0.0685942173479561, 0.000398803589232303, 0.0069790628115653, 0.0209371884346959, 0.165104685942173]
            , Precinct "LAWRENCEVILLE D" 10811 [33.9649096, -83.982929, 0.203949147957804, 0.45347579118204, 0.002028671896132, 0.0355693805788477, 0, 0.00419258858533946, 0.0273194482012443, 0.273464971598593]
            , Precinct "LAWRENCEVILLE E" 3461 [33.9462713, -84.0112999, 0.459264599855804, 0.220620043258832, 0.000360490266762797, 0.0796683489545782, 0, 0.00108147080028839, 0.024873828406633, 0.214131218457102]
            , Precinct "LAWRENCEVILLE F" 5997 [33.9456761, -83.9409068, 0.224265530387979, 0.45503476115721, 0.00224265530387979, 0.0659340659340659, 0.00179412424310384, 0.00605516932047544, 0.0309486431935412, 0.213725050459744]
            , Precinct "LAWRENCEVILLE G" 4973 [33.928945, -84.0326378, 0.189831445150594, 0.31997789444598, 0.00110527770102238, 0.214976512848853, 0.000276319425255595, 0.00718430505664548, 0.0215529151699364, 0.245095330201713]
            , Precinct "LAWRENCEVILLE H" 5875 [34.0021994, -83.9979153, 0.459156785243742, 0.184453227931489, 0.00131752305665349, 0.162714097496706, 0.000658761528326746, 0.00175669740887132, 0.033596837944664, 0.156346069389548]
            , Precinct "LAWRENCEVILLE I" 5968 [33.9831453, -84.0063628, 0.343482794577685, 0.369968717413973, 0.00166840458811262, 0.0554744525547445, 0, 0.00604796663190824, 0.0285714285714286, 0.194786235662148]
            , Precinct "LAWRENCEVILLE J" 3562 [33.9186794, -84.0397274, 0.25732531930879, 0.356123215627348, 0.00150262960180316, 0.0965439519158527, 0.000375657400450789, 0.00262960180315552, 0.0277986476333584, 0.257700976709241]
            , Precinct "LAWRENCEVILLE K" 4331 [34.0147717, -83.9941712, 0.466547192353644, 0.178016726403823, 0.00268817204301075, 0.174432497013142, 0, 0.00209080047789725, 0.0328554360812425, 0.14336917562724]
            , Precinct "LAWRENCEVILLE L" 7250 [33.9146732, -84.0117177, 0.316021288309782, 0.260598274912828, 0.00256927876674619, 0.241328684162232, 0.000367039823820885, 0.00587263718113415, 0.022389429253074, 0.150853367590384]
            , Precinct "LAWRENCEVILLE M" 12001 [33.9694818, -83.9496471, 0.204943235572375, 0.447374645222327, 0.000709555345316935, 0.0696546830652791, 0.000473036896877956, 0.00638599810785241, 0.0334673604541154, 0.236991485335856]
            , Precinct "LAWRENCEVILLE N" 4532 [33.9340165, -84.0071546, 0.340909090909091, 0.249102870813397, 0.00328947368421053, 0.0855263157894737, 0.000598086124401914, 0.0020933014354067, 0.0230263157894737, 0.295454545454545]
            , Precinct "MARTINS A" 6977 [33.9567353, -84.066121, 0.155805687203791, 0.274881516587678, 0.00118483412322275, 0.153238546603476, 0.000197472353870458, 0.00730647709320695, 0.0183649289099526, 0.389020537124803]
            , Precinct "MARTINS B" 5388 [33.9456094, -84.0483568, 0.235352779855398, 0.244826726502119, 0.0012465719272002, 0.151832460732984, 0, 0.00324108701072052, 0.0349040139616056, 0.328596360009973]
            , Precinct "MARTINS C" 4451 [33.9072875, -84.0852018, 0.321691176470588, 0.209865196078431, 0.00214460784313726, 0.0974264705882353, 0, 0.00612745098039216, 0.0238970588235294, 0.338848039215686]
            , Precinct "MARTINS D" 5114 [33.9314484, -84.1114082, 0.119839142091153, 0.248257372654155, 0.000536193029490617, 0.229758713136729, 0.00107238605898123, 0.00563002680965147, 0.0214477211796247, 0.373458445040214]
            , Precinct "MARTINS E" 13273 [33.9536353, -84.1070469, 0.135723431498079, 0.425293016842313, 0.00256081946222791, 0.0981975770708165, 0.000295479168718605, 0.00630355559933025, 0.0283660001969861, 0.303260120161529]
            , Precinct "MARTINS F" 5651 [33.9396051, -84.1293265, 0.152790484903934, 0.256861848124428, 0.000457456541628545, 0.143412625800549, 0.000228728270814273, 0.00480329368709973, 0.020128087831656, 0.42131747483989]
            , Precinct "MARTINS G" 4597 [33.9552398, -84.0245887, 0.241136829768532, 0.250805742748315, 0.00234397890418986, 0.107823029592734, 0.000292997363023733, 0.00468795780837972, 0.0193378259595664, 0.373571637855259]
            , Precinct "MARTINS H" 9056 [33.9345146, -84.0648562, 0.215318772136954, 0.216794569067296, 0.00147579693034238, 0.217532467532468, 0.000885478158205431, 0.00442739079102716, 0.0163813459268005, 0.327184179456907]
            , Precinct "MARTINS I" 8379 [33.9291163, -84.0972525, 0.143579703051069, 0.189916789035732, 0.00114211127426986, 0.214227443302333, 0.000815793767335618, 0.00440528634361234, 0.0168053516071137, 0.429107521618535]
            , Precinct "MARTINS J" 8322 [33.9475762, -84.0907588, 0.138083538083538, 0.28959868959869, 0.00278460278460278, 0.104013104013104, 0, 0.00556920556920557, 0.0316134316134316, 0.428337428337428]
            , Precinct "MARTINS K" 9889 [33.9152335, -84.0639228, 0.162732225171113, 0.307584858220422, 0.0011174745076128, 0.209526470177399, 0.00153652744796759, 0.00488895097080598, 0.0176002234949015, 0.295013270009778]
            , Precinct "PINCKNEYVILLE A1" 3338 [33.9757104, -84.249111, 0.76547619047619, 0.0619047619047619, 0, 0.0944444444444444, 0.000396825396825397, 0.00476190476190476, 0.0257936507936508, 0.0472222222222222]
            , Precinct "PINCKNEYVILLE B" 11176 [33.8982183, -84.2068288, 0.100529767911201, 0.18529263370333, 0.00151362260343088, 0.125, 0.000756811301715439, 0.00466700302724521, 0.0155146316851665, 0.566725529767911]
            , Precinct "PINCKNEYVILLE C" 2710 [33.9642062, -84.2315195, 0.602954341987466, 0.135183527305282, 0, 0.122649955237243, 0.00044762757385855, 0.00492390331244405, 0.0380483437779767, 0.0957923008057296]
            , Precinct "PINCKNEYVILLE D" 5988 [33.9165115, -84.1792009, 0.12206020696143, 0.198965192850423, 0.00188146754468485, 0.1241768579492, 0, 0.00493885230479774, 0.0152869238005644, 0.532690498588899]
            , Precinct "PINCKNEYVILLE E" 4844 [33.9403949, -84.2570715, 0.232744783306581, 0.349384697699304, 0.00133761369716426, 0.0518994114499732, 0, 0.007223113964687, 0.023542001070091, 0.333868378812199]
            , Precinct "PINCKNEYVILLE F" 6986 [33.9180147, -84.2327984, 0.141065830721003, 0.15948275862069, 0.00117554858934169, 0.124216300940439, 0, 0.00666144200626959, 0.0154780564263323, 0.551920062695925]
            , Precinct "PINCKNEYVILLE H" 6034 [33.9708347, -84.1955684, 0.496471062714257, 0.192377495462795, 0.00120992135511192, 0.177253478523896, 0, 0.00584795321637427, 0.0328695301472071, 0.0939705585803589]
            , Precinct "PINCKNEYVILLE I" 5301 [33.9433818, -84.1611191, 0.162802293692346, 0.295188232361007, 0.00149588631264024, 0.151832460732984, 0, 0.00772874594864124, 0.0319122413363251, 0.349040139616056]
            , Precinct "PINCKNEYVILLE J" 8393 [33.9062732, -84.2127315, 0.0913188647746244, 0.229382303839733, 0.0010016694490818, 0.0789649415692821, 0, 0.00584307178631052, 0.0136894824707846, 0.579799666110184]
            , Precinct "PINCKNEYVILLE K" 9111 [33.9194429, -84.1592992, 0.129954614220877, 0.25446293494705, 0.00136157337367625, 0.107715582450832, 0.00136157337367625, 0.00468986384266263, 0.0202723146747352, 0.48018154311649]
            , Precinct "PINCKNEYVILLE L" 2897 [33.9852037, -84.2347366, 0.803355079217148, 0.0321528424976701, 0.000931966449207828, 0.0969245107176142, 0, 0.000465983224603914, 0.0349487418452936, 0.0312208760484623]
            , Precinct "PINCKNEYVILLE M" 3341 [33.9941726, -84.2163596, 0.754732178815948, 0.0438985098670963, 0.00281917035843737, 0.113975030205397, 0.000402738622633911, 0.00563834071687475, 0.0342327829238824, 0.0443012484897302]
            , Precinct "PINCKNEYVILLE N" 8300 [33.9362721, -84.2408306, 0.173713536545395, 0.424287118977384, 0.00245821042281219, 0.043756145526057, 0.00114716486397902, 0.00835791543756145, 0.0281874795149131, 0.318092428711898]
            , Precinct "PINCKNEYVILLE O" 9726 [33.8917728, -84.2155905, 0.120774342675527, 0.238803813926611, 0.00158913608783589, 0.0957815660213811, 0.00014446691707599, 0.00520080901473563, 0.0161802947125108, 0.521525570644322]
            , Precinct "PINCKNEYVILLE P" 3138 [33.966026, -84.249411, 0.490095087163233, 0.250792393026941, 0.000396196513470681, 0.0550713153724247, 0, 0.00713153724247227, 0.0408082408874802, 0.155705229793978]
            , Precinct "PINCKNEYVILLE Q" 4995 [33.9352423, -84.13663, 0.100965517241379, 0.300689655172414, 0, 0.0675862068965517, 0, 0.00689655172413793, 0.0295172413793103, 0.494344827586207]
            , Precinct "PINCKNEYVILLE S" 6658 [33.9443672, -84.1858263, 0.219442749644092, 0.169615619280049, 0.00183038438071995, 0.207240187105959, 0.00061012812690665, 0.00345739271913769, 0.0303030303030303, 0.367500508440106]
            , Precinct "PINCKNEYVILLE T" 6644 [33.9599364, -84.1751762, 0.250560195559177, 0.10205744550825, 0.00183336728457934, 0.220207781625586, 0, 0.00488897942554492, 0.023018944795274, 0.397433285801589]
            , Precinct "PINCKNEYVILLE U" 3217 [33.9536613, -84.2660633, 0.430256201708011, 0.337942252948353, 0.00203334688897926, 0.043920292801952, 0, 0.00772671817812119, 0.0459536396909313, 0.132167547783652]
            , Precinct "PINCKNEYVILLE V" 3589 [33.8883758, -84.1859837, 0.195220588235294, 0.168014705882353, 0.00110294117647059, 0.2625, 0, 0.0132352941176471, 0.0180147058823529, 0.341911764705882]
            , Precinct "PINCKNEYVILLE W" 8306 [33.9370609, -84.2116622, 0.29521190553219, 0.162406988029764, 0.00145583953413135, 0.134098997088321, 0.00161759948236817, 0.00630863798123585, 0.0228081527013911, 0.376091879650599]
            , Precinct "PINCKNEYVILLE X" 4840 [33.9774504, -84.2058584, 0.5, 0.132632119035403, 0.00410466906105695, 0.226782965623397, 0, 0.00359158542842483, 0.0482298614674192, 0.0846587993842996]
            , Precinct "PINCKNEYVILLE Y" 9540 [33.9058104, -84.1706759, 0.0902799138726546, 0.185327591510305, 0.000307597662257767, 0.12396185788988, 0.000768994155644417, 0.0036911719470932, 0.019840049215626, 0.575822823746539]
            , Precinct "PINCKNEYVILLE Z" 2313 [33.9940352, -84.2399788, 0.818710052295177, 0.0360255665310866, 0.00116211504938989, 0.0703079604880883, 0, 0.0122022080185938, 0.0226612434631028, 0.0389308541545613]
            , Precinct "PINKCNEYVILLE A" 7212 [33.933602, -84.1928967, 0.119836321122369, 0.227201870615744, 0.00116913484021824, 0.0890491036632892, 0, 0.00643024162120031, 0.0247466874512861, 0.531566640685892]
            , Precinct "PUCKETTS A" 8054 [34.1129566, -83.9434912, 0.642954390742001, 0.116746085772634, 0.00221238938053097, 0.0987066031313819, 0, 0.00442477876106195, 0.0246766507828455, 0.110279101429544]
            , Precinct "PUCKETTS B" 4486 [34.0889442, -83.973268, 0.57695796794678, 0.134563048079831, 0, 0.149682491684306, 0.00120955548835803, 0.00937405503477472, 0.020260054429997, 0.107952827335954]
            , Precinct "PUCKETTS C" 6388 [34.0998056, -83.9153111, 0.506485484867202, 0.237595223388923, 0.00370599135268684, 0.0924438954086885, 0.00082355363393041, 0.00391187976116945, 0.0312950380893556, 0.123738933498044]
            , Precinct "PUCKETTS D" 5310 [34.0757572, -83.9343002, 0.528761061946903, 0.159783677482793, 0.00221238938053097, 0.146509341199607, 0.000491642084562439, 0.00319567354965585, 0.0307276302851524, 0.128318584070796]
            , Precinct "PUCKETTS E" 8927 [34.0716606, -83.961447, 0.363308812490617, 0.228944602912476, 0.000300255216934394, 0.244858129409998, 0, 0.00390331782014713, 0.030475904518841, 0.128208977630986]
            , Precinct "ROCKBRIDGE A" 5732 [33.7927546, -84.0467625, 0.198167791706847, 0.611620057859209, 0.00289296046287367, 0.0414657666345227, 0, 0.00313404050144648, 0.0296528447444552, 0.113066538090646]
            , Precinct "ROCKBRIDGE B" 6339 [33.8338007, -84.0443693, 0.230038843331895, 0.506042296072508, 0.00151057401812689, 0.0612861458782909, 0.000863185153215365, 0.00712127751402676, 0.0321536469572723, 0.160984031074666]
            , Precinct "ROCKBRIDGE C" 7179 [33.8151462, -84.0470011, 0.188584219362059, 0.603059130759187, 0.00205185599701548, 0.0608095504570043, 0.000186532363365044, 0.00708822980787167, 0.0302182428651371, 0.10800223838836]
            , Precinct "ROCKBRIDGE D" 4853 [33.8119302, -84.0050123, 0.241258741258741, 0.583647122108661, 0.000806885422270038, 0.0381925766541151, 0.000806885422270038, 0.0104895104895105, 0.029585798816568, 0.0952124798278644]
            , Precinct "ROCKBRIDGE E" 7169 [33.8267236, -84.0595636, 0.229975148155228, 0.531064805964443, 0.00172051233033837, 0.0539093863506022, 0.00133817625692984, 0.00611737717453642, 0.0380424393041483, 0.137832154463774]
            , Precinct "ROCKBRIDGE F" 7998 [33.7891683, -84.011047, 0.169009314140559, 0.684504657070279, 0.00220152413209145, 0.0281117696867062, 0, 0.0106689246401355, 0.034038950042337, 0.0714648602878916]
            , Precinct "ROCKBRIDGE G" 8459 [33.7729458, -84.0388929, 0.218421052631579, 0.617105263157895, 0.00328947368421053, 0.0121710526315789, 0.000328947368421053, 0.00378289473684211, 0.0416118421052632, 0.103289473684211]
            , Precinct "ROCKYCREEK A" 8636 [34.0326726, -83.8785003, 0.513260025873221, 0.274579560155239, 0.00145536869340233, 0.0515847347994825, 0.000970245795601552, 0.00679172056921087, 0.0312095730918499, 0.120148771021992]
            , Precinct "ROCKYCREEK B" 7660 [34.0377554, -83.9313674, 0.497544114971803, 0.19628888484628, 0.000909587047480444, 0.100782244860833, 0, 0.0032745133709296, 0.0312897944333273, 0.169910860469347]
            , Precinct "ROCKYCREEK C" 6942 [34.0139168, -83.9220142, 0.506577615867233, 0.247925521149565, 0.000809552722121028, 0.0754907913377859, 0, 0.00465492815219591, 0.0380489779396883, 0.126492612831411]
            , Precinct "SUGAR HILL A" 9344 [34.0873182, -84.0020166, 0.415289876839892, 0.155301892460198, 0.000901171522979874, 0.0985280865124662, 0.000300390507659958, 0.00405527185340943, 0.0298888555121658, 0.295734454791229]
            , Precinct "SUGAR HILL B" 9283 [34.1241782, -84.050104, 0.519865122416068, 0.143967160240434, 0.00263890925084298, 0.0951473390998387, 0.000586424277965108, 0.00557103064066852, 0.0366515173728192, 0.195572496701363]
            , Precinct "SUGAR HILL C" 7481 [34.1501347, -84.0575652, 0.643003923033813, 0.126844759947693, 0.000747244535774332, 0.0734167756398281, 0.000186811133943583, 0.00429665608070241, 0.0265271810199888, 0.124976648608257]
            , Precinct "SUGAR HILL D" 8579 [34.1263295, -83.9927198, 0.482787156570672, 0.182224428997021, 0.00264812975835816, 0.0605759682224429, 0.000165508109897385, 0.00529625951671632, 0.0264812975835816, 0.239821251241311]
            , Precinct "SUGAR HILL E" 5627 [34.0875286, -84.0277031, 0.484496124031008, 0.150920542635659, 0.000484496124031008, 0.180717054263566, 0, 0.00702519379844961, 0.030765503875969, 0.145591085271318]
            , Precinct "SUGAR HILL F" 6984 [34.0970318, -84.0587765, 0.507234726688103, 0.100281350482315, 0.000401929260450161, 0.196141479099678, 0, 0.00261254019292604, 0.0253215434083601, 0.168006430868167]
            , Precinct "SUGAR HILL G" 3971 [34.1086611, -84.0668378, 0.63104904189672, 0.0967846703475154, 0.00259824618382592, 0.138681390061708, 0.000974342318934719, 0.0048717115946736, 0.0344267619356934, 0.0906138356609289]
            , Precinct "SUWANEE A" 2772 [34.0617125, -84.0670736, 0.498377375985165, 0.196105702364395, 0.00324524802967084, 0.156699119146963, 0, 0.00509967547519703, 0.0449698655540102, 0.095503013444599]
            , Precinct "SUWANEE B" 7364 [34.0636681, -84.0444275, 0.425207234363225, 0.12810851544838, 0.000753579502637528, 0.34758854559156, 0.00113036925395629, 0.0052750565184627, 0.0261868877166541, 0.0657498116051243]
            , Precinct "SUWANEE C" 9256 [34.0247114, -84.0731875, 0.405620805369128, 0.130732662192394, 0.00167785234899329, 0.336828859060403, 0.000559284116331096, 0.00727069351230425, 0.0322986577181208, 0.0850111856823266]
            , Precinct "SUWANEE D" 7036 [34.0994645, -84.0967614, 0.563741721854305, 0.103890728476821, 0.000827814569536424, 0.226407284768212, 0.00206953642384106, 0.00269039735099338, 0.0378725165562914, 0.0625]
            , Precinct "SUWANEE E" 6267 [34.0742392, -84.077551, 0.54384042086804, 0.0903112669881631, 0.00153441473038141, 0.269837790442788, 0, 0.00372643577378343, 0.0350723366944323, 0.0556773345024112]
            , Precinct "SUWANEE F" 6060 [34.0490726, -84.0392913, 0.388378502526412, 0.156178226917777, 0.000459347726228755, 0.331189710610932, 0.000229673863114378, 0.0041341295360588, 0.0307762976573266, 0.0886541111621497]
            , Precinct "SUWANEE G" 5953 [34.0400745, -84.1011224, 0.457004618429734, 0.174180778535298, 0.00131955135254014, 0.234880140752144, 0.0019793270288102, 0.00681768198812404, 0.0261711018253794, 0.0976468000879701]
            , Precinct "SUWANEE H" 5275 [34.0735075, -84.0959355, 0.65357905982906, 0.0718482905982906, 0.00106837606837607, 0.184294871794872, 0, 0.00614316239316239, 0.0269764957264957, 0.0560897435897436]
            ]

        noDistricts = 5

        (csv1, districts1) =
            thenEqualizeVerbose $
                reduceVerbose noDistricts (precinctsToDistricts testPrecincts)

        (csv2, districts2) =
            thenEqualizeVerbose $
                reduceVerbose noDistricts (precinctsToDistricts gwinnettPrecincts)
